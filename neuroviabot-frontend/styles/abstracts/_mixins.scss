// ==========================================
// ðŸŽ¨ NeuroViaBot - SCSS Mixins
// Reusable Mixins & Functions
// ==========================================

@use 'sass:map';
@use 'sass:math';
@use 'variables' as *;

// ==========================================
// Responsive Breakpoints
// ==========================================

@mixin respond-to($breakpoint) {
  @if map.has-key($breakpoints, $breakpoint) {
    @media (min-width: map.get($breakpoints, $breakpoint)) {
      @content;
    }
  } @else {
    @warn "Breakpoint `#{$breakpoint}` not found in $breakpoints map.";
  }
}

// Max-width media query
@mixin respond-below($breakpoint) {
  @if map.has-key($breakpoints, $breakpoint) {
    @media (max-width: map.get($breakpoints, $breakpoint) - 1px) {
      @content;
    }
  } @else {
    @warn "Breakpoint `#{$breakpoint}` not found in $breakpoints map.";
  }
}

// ==========================================
// Flexbox Utilities
// ==========================================

@mixin flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

@mixin flex-between {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

@mixin flex-column {
  display: flex;
  flex-direction: column;
}

@mixin flex-column-center {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

// ==========================================
// Glassmorphism Effects
// ==========================================

@mixin glass($opacity: $glass-opacity, $blur: $glass-blur) {
  background: rgba(255, 255, 255, $opacity);
  backdrop-filter: blur($blur);
  -webkit-backdrop-filter: blur($blur);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

@mixin glass-dark($opacity: 0.05, $blur: $glass-blur) {
  background: rgba(0, 0, 0, $opacity);
  backdrop-filter: blur($blur);
  -webkit-backdrop-filter: blur($blur);
  border: 1px solid rgba(255, 255, 255, 0.05);
}

// ==========================================
// Gradient Backgrounds
// ==========================================

@mixin gradient-bg($gradient) {
  background: $gradient;
  background-size: 200% 200%;
}

@mixin animated-gradient($gradient, $duration: 8s) {
  @include gradient-bg($gradient);
  animation: gradient-shift $duration ease infinite;
}

// ==========================================
// Glow Effects
// ==========================================

@mixin glow($color: $color-primary, $intensity: 0.5) {
  box-shadow: 
    0 0 20px rgba($color, $intensity * 0.6),
    0 0 40px rgba($color, $intensity * 0.4),
    0 0 60px rgba($color, $intensity * 0.2);
}

@mixin glow-on-hover($color: $color-primary, $intensity: 0.6) {
  transition: box-shadow map.get($transition-speeds, 'medium') map.get($transition-easings, 'smooth');
  
  &:hover {
    @include glow($color, $intensity);
  }
}

@mixin text-glow($color: $color-primary) {
  text-shadow: 
    0 0 10px rgba($color, 0.5),
    0 0 20px rgba($color, 0.3),
    0 0 30px rgba($color, 0.2);
}

// ==========================================
// Card Styles
// ==========================================

@mixin card($padding: map.get($spacing, 'lg')) {
  background: $color-bg-secondary;
  border-radius: map.get($radius, 'lg');
  padding: $padding;
  border: 1px solid $color-border-primary;
  transition: all map.get($transition-speeds, 'base') map.get($transition-easings, 'smooth');
}

@mixin card-hover {
  &:hover {
    background: $color-bg-tertiary;
    border-color: $color-primary;
    transform: translateY(-2px);
    box-shadow: map.get($shadows, 'lg');
  }
}

@mixin card-glass($opacity: $glass-opacity) {
  @include glass($opacity);
  border-radius: map.get($radius, 'lg');
  padding: map.get($spacing, 'lg');
}

// ==========================================
// Button Styles
// ==========================================

@mixin button-base {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: map.get($spacing, 'sm');
  padding: map.get($spacing, 'sm') map.get($spacing, 'lg');
  border-radius: map.get($radius, 'md');
  font-weight: map.get($font-weights, 'semibold');
  font-size: map.get($font-sizes, 'base');
  line-height: map.get($line-heights, 'none');
  cursor: pointer;
  transition: all map.get($transition-speeds, 'base') map.get($transition-easings, 'smooth');
  border: none;
  outline: none;
  
  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
}

@mixin button-primary {
  @include button-base;
  background: $color-primary;
  color: $color-text-primary;
  
  &:hover:not(:disabled) {
    background: $color-primary-dark;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba($color-primary, 0.4);
  }
  
  &:active:not(:disabled) {
    transform: translateY(0);
  }
}

@mixin button-secondary {
  @include button-base;
  background: $color-bg-elevated;
  color: $color-text-primary;
  border: 1px solid $color-border-primary;
  
  &:hover:not(:disabled) {
    background: $color-bg-hover;
    border-color: $color-primary;
  }
}

@mixin button-gradient($gradient: $gradient-cyber) {
  @include button-base;
  background: $gradient;
  color: $color-text-primary;
  background-size: 200% 200%;
  
  &:hover:not(:disabled) {
    animation: gradient-shift 2s ease infinite;
    box-shadow: 0 4px 20px rgba($color-primary, 0.5);
    transform: translateY(-1px);
  }
}

// ==========================================
// Input Styles
// ==========================================

@mixin input-base {
  width: 100%;
  padding: map.get($spacing, 'sm') map.get($spacing, 'md');
  background: $color-bg-tertiary;
  border: 1px solid $color-border-primary;
  border-radius: map.get($radius, 'md');
  color: $color-text-primary;
  font-size: map.get($font-sizes, 'base');
  transition: all map.get($transition-speeds, 'base') map.get($transition-easings, 'smooth');
  
  &::placeholder {
    color: $color-text-muted;
  }
  
  &:focus {
    outline: none;
    border-color: $color-primary;
    box-shadow: 0 0 0 3px rgba($color-primary, 0.1);
  }
  
  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
}

// ==========================================
// Animations & Transitions
// ==========================================

@mixin smooth-transition($property: all, $duration: 'base') {
  transition: $property map.get($transition-speeds, $duration) map.get($transition-easings, 'smooth');
}

@mixin hover-lift {
  transition: transform map.get($transition-speeds, 'base') map.get($transition-easings, 'smooth');
  
  &:hover {
    transform: translateY(-4px);
  }
}

@mixin hover-scale($scale: 1.05) {
  transition: transform map.get($transition-speeds, 'base') map.get($transition-easings, 'smooth');
  
  &:hover {
    transform: scale($scale);
  }
}

// ==========================================
// Scrollbar Styling
// ==========================================

@mixin custom-scrollbar($width: 8px, $track-color: transparent, $thumb-color: rgba(255, 255, 255, 0.2)) {
  &::-webkit-scrollbar {
    width: $width;
    height: $width;
  }
  
  &::-webkit-scrollbar-track {
    background: $track-color;
  }
  
  &::-webkit-scrollbar-thumb {
    background: $thumb-color;
    border-radius: $width;
    
    &:hover {
      background: rgba(255, 255, 255, 0.3);
    }
  }
}

// ==========================================
// Typography Utilities
// ==========================================

@mixin heading($size: '4xl') {
  font-family: $font-display;
  font-size: map.get($font-sizes, $size);
  font-weight: map.get($font-weights, 'bold');
  line-height: map.get($line-heights, 'tight');
  color: $color-text-primary;
}

@mixin text-gradient($gradient: $gradient-cyber) {
  background: $gradient;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

// ==========================================
// Absolute Positioning Helpers
// ==========================================

@mixin absolute-center {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

@mixin absolute-fill {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

// ==========================================
// Truncate Text
// ==========================================

@mixin truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

@mixin line-clamp($lines: 2) {
  display: -webkit-box;
  -webkit-line-clamp: $lines;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

// ==========================================
// Reset Button Styles
// ==========================================

@mixin reset-button {
  background: none;
  border: none;
  padding: 0;
  margin: 0;
  font: inherit;
  color: inherit;
  cursor: pointer;
  outline: none;
}

// ==========================================
// Aspect Ratio
// ==========================================

@mixin aspect-ratio($width, $height) {
  position: relative;
  
  &::before {
    content: '';
    display: block;
    padding-top: math.div($height, $width) * 100%;
  }
  
  > * {
    @include absolute-fill;
  }
}

// ==========================================
// Hide/Show Utilities
// ==========================================

@mixin visually-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}


